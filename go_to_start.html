<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RÃ¤tsel-Start</title>
</head>
<body>
  <h2>ğŸ”’ Halt, RÃ¤tselstarter!</h2>
  <p>Bevor du weitermachen darfst, musst du den Startpunkt finden.</p>
  <h3>RÃ¤tsel:</h3>
  <p>
    Ich bin ein Ort mit einem Brunnen und umgeben von alten Fassaden.<br>
    Ich sah schon viele Jecken kommen und gehen,<br>
    hier beginnt die Spurensuche â€“ kannst du ihn erkennen?
  </p>
  <p><strong>LÃ¶sung:</strong> Gehe zum <em>Alter Markt</em> und scanne dort den ersten QR-Code.</p>
  <button id="goStart">Zum Start</button>
  <script>
    const params = new URLSearchParams(window.location.search);
    const dest = params.get('dest');
    const started = localStorage.getItem('duelken_started');

    // If scanning intro, set started and go
    if (dest === 'intro.html') {
      localStorage.setItem('duelken_started', 'true');
      window.location.href = 'intro.html';
    } else if (started) {
      // Already started: go directly to destination
      window.location.href = dest;
    } else {
      // Not started: show riddle page until clicking button
      document.getElementById('goStart').addEventListener('click', () => {
        localStorage.setItem('duelken_started', 'true');
        window.location.href = 'intro.html';
      });
    }
  </script>
</body>
</html>
